<ion-header>
    <ion-toolbar>
        <ion-title>{{!timerActive ? 'Estrai o scegli una lettera' : null}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <div *ngIf="!timerActive; else timer" class="letters">
        <div *ngIf="currentLetter; else availableChars" class="icon-letter-single">
            <span class="icon-letter-char-animated">{{ currentLetter }}</span>
        </div>
        <ng-template #availableChars>
            <div>
                <div *ngFor="let char of letters; let i = index" class="icon-letter" (click)="extractLetter(i)">
                    <span class="icon-letter-char">{{ char }}</span>
                </div>
            </div>
        </ng-template>
    </div>
    <ng-template #timer>
        <div class="icon-letter-timer">
            <span #timerNumber class="icon-letter-char-timer">3</span>
        </div>
        <div #timerStarted class="timer" [class.timer-small]="timerStr?.length > 4"
             style="display: none">{{ timerStr }}</div>
    </ng-template>
</ion-content>

<ion-footer *ngIf="!timerActive" class="ion-no-border">
    <ion-button *ngIf="currentLetter" color="secondary" expand="full" (click)="resetLetter()">
        Scegli Manualmente
    </ion-button>
    <ion-button color="primary" expand="full" (click)="extractLetter()">Estrai Lettera</ion-button>
</ion-footer>
